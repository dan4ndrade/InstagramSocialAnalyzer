<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" sizes="96x96" href="img/favicon.png" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Módulo - Estatístico | SMA</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet" />

    <!-- Animation library for notifications -->
    <link href="css/animate.min.css" rel="stylesheet" />

    <!-- Paper Dashboard core CSS -->
    <link href="css/paper-dashboard.css" rel="stylesheet" />

    <!-- Fonts and icons -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet" />
    <link href='https://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css' />
    <link href="css/themify-icons.css" rel="stylesheet" />

    <!-- Custom stylesheet -->
    <link href="css/custom.css" rel="stylesheet" />

</head>
<body>

    <!-- Loading overlay -->
    <div class="loading-overlay">
        <div id="loading-img">
            <div class="loading-text">
                Social Media Analyzer
            </div>
        </div>
    </div>

    <div class="wrapper">

        <!-- Side menu -->
        <div class="sidebar" data-background-color="blue" data-active-color="success">

            <!--
                Tip 1: you can change the color of the sidebar's background using: data-background-color="white | black | blue"
                Tip 2: you can change the color of the active button using the data-active-color="primary | info | success | warning | danger"
            -->
            <!-- Side navbar -->
            <div class="sidebar-wrapper">
                <div class="logo">
                    <a href="#" class="simple-text">
                        Social Media Analyzer
                    </a>
                </div>

                <ul class="nav">
                    <li class="loading">
                        <a href="/dashboard">
                            <i class="ti-pulse"></i>
                            <p>Dashboard</p>
                        </a>
                    </li>
                    <li class="loading">
                        <a href="/management">
                            <i class="ti-book"></i>
                            <p>Gerenciar Página</p>
                        </a>
                    </li>
                    <li class="active loading">
                        <a href="/statistics">
                            <i class="ti-bar-chart"></i>
                            <p>Estatísticas</p>
                        </a>
                    </li>
                    <li class="loading">
                        <a href="/notifications">
                            <i class="ti-bell"></i>
                            <p>Notificações</p>
                        </a>
                    </li>
                    <li class="loading">
                        <a href="/page">
                            <i class="ti-user"></i>
                            <p>Minha Página</p>
                        </a>
                    </li>
                </ul>

            </div>
        </div>
        <!-- END Side Navbar -->
        <!-- END Side menu -->

    <div class="main-panel">
        <!-- Top menu -->
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar bar1"></span>
                        <span class="icon-bar bar2"></span>
                        <span class="icon-bar bar3"></span>
                    </button>
                    <a class="navbar-brand" href="#" th:text="${pagename != null ? 'Estatísticas - ' + pagename : 'Estatísticas'}"></a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="ti-settings"></i>
                                <p class="options"></p>
                                <p>Configurações</p>
                                <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="#" data-toggle="modal" data-target="#popUpWindow">
                                        <p align="center">Alterar página <i class="fa fa-exchange text-primary" aria-hidden="true"></i></p>
                                    </a>
                                </li>
                                <li>
                                    <a href="/logout=">
                                        <p align="center">Logout <i class="fa fa-sign-out text-primary" aria-hidden="true"></i></p>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- END Top menu -->

            <!-- Main content  -->
            <div class="content">
                <div class="container-fluid">

                    <!-- Top row -->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="header">
                                    <h4 class="title">Reação do Público</h4>
                                    <p class="category">Como seus seguidores estão reagindo</p>
                                </div>
                                <div class="content">
                                    <canvas id="pieChart1" width="130" height="100"></canvas>

                                    <div class="footer">
                                        <!--<div class="chart-legend">
                                            <i class="fa fa-circle text-info"></i> Open
                                            <i class="fa fa-circle text-danger"></i> Bounce
                                            <i class="fa fa-circle text-warning"></i> Unsubscribe
                                        </div>-->
                                        <hr />
                                        <div class="stats">
                                            <i class="ti-timer"></i> Últimas 24 horas
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card ">
                                <div class="header">
                                    <h4 class="title">Pendências</h4>
                                    <p class="category">Mensagens e notificações pendentes</p>
                                </div>
                                <div class="content">
                                    <canvas id="pieChart2" width="130" height="100"></canvas>
                                        <div class="footer">
                                            <!--<div class="chart-legend">
                                                <i class="fa fa-circle text-info"></i> Open
                                                <i class="fa fa-circle text-danger"></i> Bounce
                                                <i class="fa fa-circle text-warning"></i> Unsubscribe
                                            </div>-->
                                            <hr />
                                            <div class="stats">
                                                <i class="ti-timer"></i> Pendentes
                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END Top row -->

                    <!--  Middle row -->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="header">
                                    <h4 class="title">Número de acessos por períodos</h4>
                                    <p class="category">Períodos mensurados pela API</p>
                                </div>
                                <div class="content">
                                    <canvas id="barChart1" width="400" height="100"></canvas>

                                    <div class="footer">
                                        <!-- <div class="chart-legend">
                                            <i class="fa fa-circle text-info"></i> Open
                                            <i class="fa fa-circle text-danger"></i> Click
                                            <i class="fa fa-circle text-warning"></i> Click Second Time
                                        </div> -->
                                        <hr />
                                        <div class="stats">
                                            <i class="ti-reload"></i> Períodos
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END Middle row -->
                </div>
            </div>
        </div>
    </div>

    <!-- Change FB page Popup -->
    <div class="modal fade" id="popUpWindow">
        <div class="modal-dialog">
            <div class="modal-content text-center">

                <!-- header -->
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3 class="modal-title">Suas páginas:</h3>
                </div>

                <!-- (pageselect) -->
                <div class="modal-body">
                    <form role="form" method="POST" action="/pageselect" name="formSelectPage">
                        <div class="btn-group">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="selection">Selecione uma página </span><span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" id="listed_pages" role="menu">
                                <li class="loading" th:each="page_att:${listed_pages}"><a href="#" th:text="${page_att.name}+' '" th:value="${page_att.id}"></a></li>
                            </ul>
                        </div>
                        <br />
                        <input type="hidden" name="pageid" id="pageid"/>
                        <input type="hidden" name="destiny" value="/statistics" />
                    </form>
                    <br/>
                </div>
                <!-- (pageselect) -->
            </div>
        </div>
    </div>
    <!-- END Change FB page Popup -->

</body>

    <!-- Core JS Files -->
    <script src="js/jquery-1.10.2.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>

    <!-- Checkbox, Radio & Switch Plugins -->
    <script src="js/bootstrap-checkbox-radio.js"></script>

    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.bundle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.min.js"></script>

    <!-- js file that contains the charts code -->
    <script type="text/javascript" src="js/statistics.js"
            th:onload="'javascript:allGraphs(\''+ ${day_likes} +'\', \''+ ${day_loves} + '\', \''+ ${day_wow} + '\',
                        \''+ ${day_haha} + '\', \''+ ${day_sad} + '\', \''+ ${day_anger} + '\', \''+ ${unread_messages} + '\', \''+ ${unread_notifications} + '\');'"></script>

    <!-- Notifications Plugin -->
    <script src="js/bootstrap-notify.js"></script>

    <!-- Paper Dashboard Core -->
    <script src="js/paper-dashboard.js"></script>

    <!-- Set selected item on dropdown-menu as its title -->
    <script>
        $("#listed_pages li a").click(function(){
            $(this).parents(".btn-group").find('.selection').text($(this).text());
            $("#pageid").val($(this).attr("value"));
            document.formSelectPage.submit();
        });
    </script>

    <!-- Loading overlay for a smoother screen transition -->
    <script>
        $(function() {
            $(".loading").click(function () {
                $("#popUpWindow").modal('hide');
                $(".loading-overlay").show();
            });
        });
    </script>

</html>
